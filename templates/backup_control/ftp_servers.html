{% extends "backup_control/base.html" %}
{% block title %}CbP FTP Servers{% endblock title %}
{% block menu %}
    <ul class="menu-main">
        <li><a href="/" >Home</a></li>
        <li><a href="/backup_control/tasks" >Tasks</a></li>
        <li><a class="current" href="/ftp_servers" >Remote servers</a></li>
        <li><a href="/backup_control/logs">Logs</a></li>
        <li><a href="/accounts/logout">Logout</a></li>
    </ul>
{% endblock %}

{% block header %}
    Remote Servers
    <a class="atuin-btn2" href="ftp_servers/edit">–î–æ–±–∞–≤–∏—Ç—å</a>
{% endblock header %}
{% block content %}
    <form method="get">
        {% csrf_token %}

    {% if ftp_servers.count > 0 %}
    <table style="text-align: center">
        <tr>
            <th>–°–µ—Ä–≤–µ—Ä</th><th>–ê–¥—Ä–µ—Å</th><th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th><th>–†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞</th><th>–ü—Ä–æ—Ç–æ–∫–æ–ª</th>
        </tr>
        {% for fs in ftp_servers %}
        <tr>
            <td>{{ fs.name }}</td>
            <td>{{ fs.host }}</td>
            <td>{{ fs.login }}</td>
            <td>{% if fs.protocol == 'SFTP' %}s{% endif %}ftp://{{ fs.workdir }}</td>
            <td style="color: chocolate">{{ fs.protocol }}{% if fs.protocol == 'SFTP' %}üîí{% endif %}</td>
            <td><a class="no_decoration font20" href="ftp_servers/edit/{{ fs.id }}">‚úé</a> |
                <a class="no_decoration" style="cursor: pointer" onclick="delete_group('{{ fs.id }}', '{{ fs.host }}', '{{ fs.name }}')">‚ùå</a></td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}
    </form>

    <script>
    function delete_group(server_id, server_ip, server_name) {
        if (confirm("–í—ã —Å–æ–≥–ª–∞—Å–Ω—ã —É–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä \"" + server_name + "\" (" + server_ip + ") –∏–∑ —Å–ø–∏—Å–∫–∞?")) {
            window.location.href = "ftp_servers/delete/" + server_id
        }
    }
    </script>

{% endblock content %}